<div id="app-content" class="col-xs-12 col-sm-10">
    <div class="row">
        <div id="app-content-header">
            <ol class="breadcrumb">
                <li><a href="#dashboard"><i class="fa fa-home fa-2x"></i></a></li>
                <li><a href="#admin/user/list">Admin</a></li>
                <li><a href="#admin/depart">부서관리</a></li>
            </ol>
        </div>
    </div>

    <!-- 부서 CONTENT Layer -->
    <div class="row">

        <!-- 조직도 Layer -->
        <div class="content-area-container col-xs-12">
            <div data-content-box-layer data-box-title="departMngVO.boxTitle">
                <div class="box-content-article">
                    <div class="article-header">
                        <div class="col-xs-6 article-header-box">
                            <button type="button" class="ae-btn" data-ng-click="departMngVO.init()"><i class="fa fa-refresh"></i></button>
                            <button type="button" data-ng-if="page.isWrite()" class="ae-btn ae-add-btn" title="사용자코드 추가" data-ng-click="departMngVO.add()"><i class="fa fa-plus"></i> 추가</button>
                        </div>
                    </div>
                    <div style="overflow-x:hidden; overflow-y: scroll; height: 520px;">
                        <table class="table table-bordered table-striped table-hover table-condensed no-footer">
                            <thead>
                                <tr>
                                    <th>부서코드</th>
                                    <th>부서명</th>
                                    <th>상위부서</th>
                                    <th>직군</th>
                                    <th>상위부서 여부</th>
                                    <th>수정일시</th>
                                    <th data-ng-if="page.isWrite()">action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-ng-repeat="data in departMngVO.data track by $index">
                                    <td>
                                        <div>{{data.CD}}</div>
                                    </td>
                                    <td>
                                        <div data-ng-show="!data._edit">{{data.NAME}}</div>
                                        <div data-ng-show="data._edit">
                                            <input type="text" title="" data-ng-model="data.NAME" />
                                        </div>
                                    </td>
                                    <td>
                                        <div data-ng-show="!data._edit">{{data.MGR_NAME}} </div>
                                        <div data-ng-show="data._edit">
                                            <select data-ng-model="data.MGR_CD">
                                                <option value="0">없음</option>
                                                <option data-ng-repeat="deptCode in departMngVO.deptCodeList track by $index"
                                                        data-ng-selected="data.MGR_CD == deptCode.CD"
                                                        value="{{deptCode.CD}}">{{deptCode.NAME}}</option>
                                            </select>
                                        </div>
                                    </td>
                                    <td>
                                        <div data-ng-show="!data._edit">{{data.WORK_GROUP_NAME}}</div>
                                        <div data-ng-show="data._edit">
                                            <select data-ng-model="data.WORK_GROUP">
                                                <option data-ng-repeat="workCode in departMngVO.workCodeList track by $index"
                                                        data-ng-selected="data.WORK_GROUP == workCode.CD"
                                                        value="{{workCode.CD}}">{{workCode.NAME}}</option>
                                            </select>
                                        </div>
                                    </td>
                                    <td>
                                        <div data-ng-show="!data._edit">{{data.YN_TOPDEPT}}</div>
                                        <div data-ng-show="data._edit">
                                            <select data-ng-model="data.YN_TOPDEPT">
                                                <option value="YES" data-ng-selected="data.YN_TOPDEPT=='YES'">YES</option>
                                                <option value="NO" data-ng-selected="data.YN_TOPDEPT=='NO'">NO</option>
                                            </select>
                                        </div>
                                    </td>
                                    <td>
                                        <div>{{data.UPDATE_DT}}</div>
                                    </td>
                                    <td data-ng-if="page.isWrite()">
                                        <div data-ng-show="!data._edit">
                                            <button type="button" title="" data-ng-click="departMngVO.update(data)">수정</button>
                                            <button type="button" title="" data-ng-click="departMngVO.delete(data, $index)">삭제</button>
                                        </div>
                                        <div data-ng-show="data._edit">
                                            <button type="button" title="" data-ng-click="departMngVO.save(data)">저장</button>
                                            <button type="button" title="" data-ng-click="departMngVO.cancel(data, $index)">취소</button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!--/ 조직도 Layer END-->

    </div>
    <!--/ 부서 CONTENT Layer END -->
</div>
